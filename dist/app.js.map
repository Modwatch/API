{"version":3,"sources":["app.js"],"names":["express","require","bodyParser","cookieParser","methodOverride","session","cors","morgan","app","http","path","jwt","mongoose","configDB","process","env","OPENSHIFT_NODEJS_PORT","OPENSHIFT_NODEJS_IP","getNewLive","DBUSERNAME","DBPASSWORD","connect","ipaddress","port","corsOptions","origin","methods","set","join","__dirname","use","json","urlencoded","extended","undefined","secret","DBEXPRESSSECRET","resave","saveUninitialized","scriptVersion","0.2","0.3","createServer","listen","get","console","log"],"mappings":"AAAA,YAAA,IAAIA,SAAUC,QAAQ,WAChBC,WAAaD,QAAQ,eACrBE,aAAeF,QAAQ,iBACvBG,eAAiBH,QAAQ,mBACzBI,QAAUJ,QAAQ,mBAClBK,KAAOL,QAAQ,QACfM,OAASN,QAAQ,UACnBO,IAAMR,UAENS,KAAOR,QAAQ,QACfS,KAAOT,QAAQ,QACfU,IAAMV,QAAQ,gBACdW,SAAWX,QAAQ,aAEnBY,QAGHA,UADEC,QAAQC,IAAIC,uBAAyBF,QAAQC,IAAIE,oBACxChB,QAAQ,mBAAmBiB,WAAWJ,QAAQC,IAAII,WAAYL,QAAQC,IAAIK,YAE1EnB,QAAQ,mBAAmBiB,WAAWJ,QAAQC,IAAII,WAAYL,QAAQC,IAAIK,YAItFR,SAASS,QAAQR,SAEjB,IAAIS,WAAYR,QAAQC,IAAIE,qBAAuB,YAC/CM,KAAOT,QAAQC,IAAIC,uBAAyB,KAE5CQ,aACFC,QAAQ,EACRC,SAAU,MAAO,QAGnBlB,KAAImB,IAAI,OAAQJ,MAChBf,IAAImB,IAAI,KAAML,WACdd,IAAImB,IAAI,QAASjB,KAAKkB,KAAKC,UAAW,UACtCrB,IAAImB,IAAI,cAAe,QACvBnB,IAAIsB,IAAIxB,QACRE,IAAIsB,IAAI5B,WAAW6B,QACnBvB,IAAIsB,IAAI5B,WAAW8B,YAAaC,UAAU,KAC1CzB,IAAIsB,IAAIvB,OAAOO,QAAQC,IAAIE,oBAAsBiB,OAAY,QAC7D1B,IAAIsB,IAAI1B,kBACRI,IAAIsB,IAAI3B,gBACRK,IAAIsB,IAAIzB,SAAS8B,OAAQrB,QAAQC,IAAIqB,gBAAiBC,QAAQ,EAAOC,mBAAmB,KACxF9B,IAAIsB,IAAI9B,QAAO,UAAQU,KAAKkB,KAAKC,UAAW,YAC5CrB,IAAIsB,IAAIxB,KAAKkB,aAEb,IAAIe,gBACFC,GAAO,OACPC,GAAO,QAGTxC,SAAQ,eAAeO,IAAKG,IAAK4B,eAEjC9B,KAAKiC,aAAalC,KAAKmC,OAAOnC,IAAIoC,IAAI,QAASpC,IAAIoC,IAAI,MAAO,WAC5DC,QAAQC,IAAI,+BAAiCtC,IAAIoC,IAAI,MAAQ,IAAMpC,IAAIoC,IAAI","file":"app.js","sourcesContent":["var express = require(\"express\");\n  var bodyParser = require(\"body-parser\");\n  var cookieParser = require(\"cookie-parser\");\n  var methodOverride = require(\"method-override\");\n  var session = require(\"express-session\");\n  var cors = require(\"cors\");\n  var morgan = require(\"morgan\");\nvar app = express();\n\nvar http = require(\"http\");\nvar path = require(\"path\");\nvar jwt = require(\"jsonwebtoken\");\nvar mongoose = require(\"mongoose/\");\n\nvar configDB;\n\nif(process.env.OPENSHIFT_NODEJS_PORT || process.env.OPENSHIFT_NODEJS_IP) {\n\tconfigDB = require(\"../config/db.js\").getNewLive(process.env.DBUSERNAME, process.env.DBPASSWORD);\n} else {\n\tconfigDB = require(\"../config/db.js\").getNewLive(process.env.DBUSERNAME, process.env.DBPASSWORD);\n\t//var configDB = require(\"../config/db.js\").getLocal(null, null);\n}\n\nmongoose.connect(configDB);\n\nvar ipaddress = process.env.OPENSHIFT_NODEJS_IP || \"127.0.0.1\";\nvar port = process.env.OPENSHIFT_NODEJS_PORT || 3001;\n\nvar corsOptions = {\n  origin: true,\n  methods: [\"GET\", \"POST\"]\n};\n\napp.set(\"port\", port);\napp.set(\"ip\", ipaddress);\napp.set(\"views\", path.join(__dirname, \"views\"));\napp.set(\"view engine\", \"html\");\napp.use(cors());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(morgan(process.env.OPENSHIFT_NODEJS_IP ? undefined : \"dev\"));\napp.use(methodOverride());\napp.use(cookieParser());\napp.use(session({secret: process.env.DBEXPRESSSECRET, resave: false, saveUninitialized: false}));\napp.use(express.static(path.join(__dirname, \"public\")));\napp.use(cors(corsOptions));\n\nvar scriptVersion = {\n  \"0.2\": \"0.27\",\n  \"0.3\": \"0.3.1\"\n};\n\nrequire(\"./routes.js\")(app, jwt, scriptVersion);\n\nhttp.createServer(app).listen(app.get(\"port\"), app.get(\"ip\"), function() { \"use strict\";\n  console.log(\"Express server listening at \" + app.get(\"ip\") + \":\" + app.get(\"port\"));\n});\n"],"sourceRoot":"/source/"}